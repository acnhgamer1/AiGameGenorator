<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üß† AI Project Generator</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --bg-primary: #0a0a0f;
      --bg-secondary: #161620;
      --bg-tertiary: #1e1e2e;
      --bg-card: #252535;
      --text-primary: #ffffff;
      --text-secondary: #b8b8c8;
      --text-muted: #6c6c7c;
      --accent: #00d4ff;
      --accent-hover: #00b8e6;
      --accent-glow: rgba(0, 212, 255, 0.4);
      --error: #ff4757;
      --warning: #ffa502;
      --success: #2ed573;
      --info: #5352ed;
      --border: #3a3a4a;
      --shadow: rgba(0, 0, 0, 0.4);
      --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --glass: rgba(255, 255, 255, 0.06);
      --backdrop: backdrop-filter: blur(20px);
    }

    [data-theme="light"] {
      --bg-primary: #ffffff;
      --bg-secondary: #f8f9fa;
      --bg-tertiary: #e9ecef;
      --bg-card: #ffffff;
      --text-primary: #212529;
      --text-secondary: #495057;
      --text-muted: #6c757d;
      --accent: #007bff;
      --accent-hover: #0056b3;
      --accent-glow: rgba(0, 123, 255, 0.3);
      --border: #dee2e6;
      --shadow: rgba(0, 0, 0, 0.15);
      --glass: rgba(0, 0, 0, 0.03);
    }

    body {
      background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
      color: var(--text-primary);
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      height: 100vh;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      line-height: 1.6;
      overflow: hidden;
    }

    header {
      padding: 1rem 1.5rem;
      background: var(--glass);
      var(--backdrop);
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 8px 32px var(--shadow);
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
      position: relative;
      z-index: 100;
    }

    .header-title {
      font-size: 1.6rem;
      font-weight: 800;
      background: var(--gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -0.5px;
      text-shadow: 0 2px 10px var(--accent-glow);
    }

    .header-controls {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .theme-toggle {
      background: var(--glass);
      var(--backdrop);
      border: 1px solid var(--border);
      color: var(--text-primary);
      padding: 8px 12px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 4px 20px var(--shadow);
      position: relative;
      overflow: hidden;
    }

    /* Controls area */
    #controls {
      display: flex;
      gap: 15px;
      padding: 1rem 1.5rem;
      background: var(--glass);
      var(--backdrop);
      align-items: center;
      flex-wrap: wrap;
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
      position: relative;
      z-index: 90;
    }

    #promptInput {
      flex: 1;
      min-width: 300px;
      padding: 12px 16px;
      border: 2px solid var(--border);
      border-radius: 50px;
      background: var(--bg-card);
      color: var(--text-primary);
      font-size: 1rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px var(--shadow);
      outline: none;
    }

    button {
      padding: 10px 16px;
      border: none;
      border-radius: 50px;
      background: linear-gradient(135deg, var(--accent) 0%, var(--accent-hover) 100%);
      color: white;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.95rem;
      box-shadow: 0 6px 25px var(--accent-glow);
    }

    .secondary-btn {
      background: var(--glass);
      color: var(--text-primary);
      border: 2px solid var(--border);
      box-shadow: 0 4px 20px var(--shadow);
    }

    #status {
      text-align: center;
      padding: 10px;
      font-size: 0.95rem;
      background: var(--glass);
      var(--backdrop);
      color: var(--text-secondary);
      border-bottom: 1px solid var(--border);
      font-weight: 600;
      flex-shrink: 0;
      transition: all 0.3s ease;
    }

    /* MAIN LAYOUT
       We'll make the main content a horizontal flex container.
       Sidebar will take approx 20% of width (with min/max constraints),
       gameContainer will take the remaining 80% and stretch to fill vertical space.
    */
    #mainContent {
      flex: 1; /* fill remaining vertical space */
      display: flex;
      overflow: hidden;
      align-items: stretch; /* ensure children fill height */
      gap: 0;
    }

    /* Sidebar: prefer 20% of width but keep sane min / max */
    #sidebar {
      flex: 0 0 20%; /* prefer 20% of available width */
      max-width: 360px;
      min-width: 200px;
      background: var(--glass);
      var(--backdrop);
      border-right: 1px solid var(--border);
      overflow-y: auto;
      transition: transform 0.36s cubic-bezier(0.4,0,0.2,1), width 0.36s ease;
      box-shadow: 8px 0 32px var(--shadow);
      height: 100%;
    }

    /* Game container takes remaining space (approx 80%) */
    #gameContainer {
      flex: 1 1 80%;
      background: var(--bg-primary);
      margin: 15px;
      border-radius: 16px;
      box-shadow: 0 15px 50px var(--shadow);
      border: 1px solid var(--border);
      overflow: hidden;
      display: flex;
      align-items: stretch;
      justify-content: center;
      height: calc(100% - 30px); /* account for margin */
      transition: all 0.3s ease;
      min-width: 240px;
    }

    /* Make the preview fill the gameContainer completely and keep responsive behavior */
    .responsive-preview {
      width: 100%;
      height: 100%;
      border-radius: 12px;
      overflow: hidden;
      display: flex;
      align-items: stretch;
      justify-content: center;
      background: var(--bg-card);
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
    }

    /* Sidebar collapsed state (for toggling on small screens) */
    #sidebar.collapsed {
      transform: translateX(-110%);
      pointer-events: none;
      width: 0;
    }

    /* Small screens: hide sidebar and let game take full width.
       Also make sure heights remain usable ‚Äî the header/controls/status are fixed height
       and mainContent will fill the rest.
    */
    @media (max-width: 900px) {
      #sidebar {
        position: absolute;
        left: 0;
        top: calc(1rem + 56px + 1rem); /* approximate: header + controls heights to position below them if needed */
        height: calc(100vh - 140px);
        z-index: 200;
        background: var(--glass);
      }

      #sidebar.collapsed {
        transform: translateX(-110%);
      }

      #gameContainer {
        margin: 10px;
        flex-basis: 100%;
        min-width: 0;
      }

      #controls {
        padding: 0.75rem;
        gap: 10px;
      }

      #promptInput {
        min-width: 140px;
      }
    }

    /* Very small / short screens: ensure preview still has usable height */
    @media (max-height: 600px) {
      #gameContainer {
        margin: 8px;
      }
      .responsive-preview {
        min-height: 48vh; /* ensure playable area */
      }
    }

    /* Utility & visual niceties */
    .sidebar-section {
      padding: 1rem;
      border-bottom: 1px solid var(--border);
    }

    .sidebar-title {
      font-weight: 800;
      margin-bottom: 1rem;
      color: var(--accent);
      font-size: 1rem;
    }

    .suggestion-btn {
      width: 100%;
      padding: 10px 12px;
      margin: 8px 0;
      text-align: left;
      border-radius: 10px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      color: var(--text-primary);
      cursor: pointer;
    }

    /* Smooth scrollbars */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg-tertiary);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 4px;
      transition: all 0.3s ease;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--accent);
    }
  </style>
</head>

<body data-theme="dark">
  <header>
    <div class="header-title">üß† AI Project Generator</div>
    <div class="header-controls">
      <button class="theme-toggle secondary-btn" id="themeToggle">üåô</button>
      <button class="secondary-btn" id="ideasToggle">üí° Ideas</button>
      <button class="secondary-btn" id="historyToggle">üìù History</button>
    </div>
  </header>

  <div id="controls">
    <div style="display:flex;gap:12px;align-items:center;width:100%;">
      <input id="promptInput" placeholder="What do you want to create? (e.g., snake game, calculator, todo list)" />
      <div style="display:flex;align-items:center;gap:8px;">
        <label for="modeSelect" style="font-weight:700;color:var(--text-secondary);">I want a:</label>
        <select id="modeSelect" style="padding:8px;border-radius:8px;border:1px solid var(--border);background:var(--bg-card);color:var(--text-primary);">
          <option value="game">üéÆ Game</option>
          <option value="website">üåê Website</option>
          <option value="app">üì± App</option>
          <option value="tool">üîß Tool</option>
        </select>
      </div>

      <button id="generateBtn" style="padding:12px 22px;font-weight:800;">‚ú® Create It!</button>
    </div>

    <div style="display:flex;gap:12px;align-items:center;margin-top:12px;flex-wrap:wrap;">
      <div style="display:flex;align-items:center;gap:8px;">
        <label for="creativitySelect" style="font-weight:700;color:var(--text-secondary);">Creativity:</label>
        <select id="creativitySelect" style="padding:8px;border-radius:8px;border:1px solid var(--border);background:var(--bg-card);color:var(--text-primary);">
          <option value="typical">Typical & Polished</option>
          <option value="creative" selected>Creative & Unique</option>
          <option value="innovative">Completely Original</option>
          <option value="experimental">Experimental</option>
        </select>
      </div>

      <div style="display:flex;align-items:center;gap:8px;">
        <input type="checkbox" id="includeAI" />
        <label for="includeAI" style="color:var(--text-secondary);font-weight:700;">ü§ñ Add AI Features</label>
      </div>

      <button id="downloadBtn" class="secondary-btn" disabled>üì• Download</button>
      <button id="resetBtn" class="secondary-btn" disabled>üîÑ Try Again</button>
    </div>
  </div>

  <div id="status">Ready to create something amazing! üöÄ</div>

  <div id="mainContent">
    <aside id="sidebar" class="">
      <div class="sidebar-section">
        <div class="sidebar-title">üí° Popular Projects</div>
        <div style="display:flex;flex-direction:column;gap:8px;">
          <button class="suggestion-btn" onclick="setSuggestion('snake game with colorful graphics')">üêç Snake Game</button>
          <button class="suggestion-btn" onclick="setSuggestion('calculator with big buttons')">üßÆ Calculator</button>
          <button class="suggestion-btn" onclick="setSuggestion('todo list with checkboxes')">üìù Todo List</button>
          <button class="suggestion-btn" onclick="setSuggestion('memory card matching game')">üÉè Memory Game</button>
          <button class="suggestion-btn" onclick="setSuggestion('drawing app with colors')">üé® Drawing App</button>
        </div>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-title">üíæ My Projects</div>
        <div style="color: var(--text-muted); font-size: 0.95rem; padding: 12px; text-align: center;">
          No projects saved yet<br><span style="font-size: 0.85rem;">Save your creations to manage them!</span>
        </div>
        <div style="padding: 12px; display:flex;gap:8px;flex-direction:column;">
          <button id="saveProjectBtn" class="secondary-btn" disabled>üíæ Save Project</button>
          <button id="loadProjectBtn" class="secondary-btn">üìÇ Load Project</button>
          <button id="shareBtn" class="secondary-btn" disabled>üîó Share Creation</button>
        </div>
      </div>
    </aside>

    <section id="gameContainer">
      <div class="responsive-preview" id="previewContainer">
        <!-- The generated game (iframe or canvas) will be injected here. For demo we'll keep an iframe placeholder -->
        <iframe id="gameFrame" srcdoc="<html><body style='margin:0;background:#111;color:#fff;display:flex;align-items:center;justify-content:center;font-family:sans-serif;'><div style='text-align:center;'><h2>Generated Game Preview</h2><p style='opacity:.8;'>This preview adjusts to 80% layout and is responsive.</p></div></body></html>"></iframe>
      </div>
    </section>
  </div>

  <!-- Minimal JS to support toggles/suggestions and responsive behavior -->
  <script>
    (function () {
      const body = document.body;
      const sidebar = document.getElementById('sidebar');
      const ideasToggle = document.getElementById('ideasToggle');
      const themeToggle = document.getElementById('themeToggle');
      const generateBtn = document.getElementById('generateBtn');
      const promptInput = document.getElementById('promptInput');
      const gameFrame = document.getElementById('gameFrame');

      // Toggle sidebar (for small screens will act as show/hide)
      ideasToggle.addEventListener('click', () => {
        sidebar.classList.toggle('collapsed');
      });

      // Theme toggle (dark/light)
      themeToggle.addEventListener('click', () => {
        const current = body.getAttribute('data-theme') || 'dark';
        const next = current === 'dark' ? 'light' : 'dark';
        body.setAttribute('data-theme', next);
        themeToggle.textContent = next === 'dark' ? 'üåô' : 'üå§Ô∏è';
      });

      // Helper for suggestion buttons
      window.setSuggestion = (text) => {
        promptInput.value = text;
      };

      // Basic generate action ‚Äî for demo we inject a small html into the iframe
      generateBtn.addEventListener('click', () => {
        const prompt = promptInput.value.trim() || 'a small game';
        const creativity = document.getElementById('creativitySelect').value;
        const includeAI = document.getElementById('includeAI').checked;

        document.getElementById('status').textContent = 'Generating: ' + prompt + ' ...';

        // Simulate generation delay
        setTimeout(() => {
          const srcdoc = `
            <html>
              <head>
                <meta name="viewport" content="width=device-width,initial-scale=1"/>
                <style>
                  html,body {margin:0;height:100%;background:linear-gradient(135deg,#0f1724,#001825);color:#fff;font-family:sans-serif;}
                  .wrap {display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;}
                  h1 {font-size:clamp(18px,4vw,36px);margin-bottom:8px;}
                  p {opacity:0.85;font-size:clamp(12px,2.4vw,18px);}
                  .meta {margin-top:14px;padding:8px 12px;background:rgba(255,255,255,0.04);border-radius:8px;color:#cfefff;font-weight:700;}
                </style>
              </head>
              <body>
                <div class="wrap">
                  <h1>${escapeHtml(prompt)}</h1>
                  <p>Creativity: ${escapeHtml(creativity)} ${includeAI ? '‚Ä¢ with AI features' : ''}</p>
                  <div class="meta">This preview is responsive and fills the available 80% layout area.</div>
                </div>
              </body>
            </html>
          `;
          gameFrame.srcdoc = srcdoc;
          document.getElementById('status').textContent = 'Done ‚Äî preview updated ‚úÖ';
        }, 700);
      });

      // simple HTML escape to avoid breaking srcdoc
      function escapeHtml(str) {
        return ('' + str)
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#39;');
      }

      // Ensure sidebar hidden on very small screens by default
      function adjustLayoutOnResize() {
        if (window.innerWidth <= 900) {
          sidebar.classList.add('collapsed');
        } else {
          sidebar.classList.remove('collapsed');
        }
      }
      window.addEventListener('resize', adjustLayoutOnResize);
      adjustLayoutOnResize();
    }());
  </script>
</body>

</html>
